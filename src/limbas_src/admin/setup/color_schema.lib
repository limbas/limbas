<?php
/**
 * @copyright Limbas GmbH <https://limbas.com>
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 *
 * This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 */

use Limbas\admin\setup\schema\ColorSchema;
use Limbas\lib\general\Log\Log;


function lmbcs_load_schema($id = null, $useDefault = false): ColorSchema|array
{
    Log::deprecated('Method ' . __METHOD__ . ' is deprecated. Use ColorSchema::all instead.');
    if($id === null) {
        return ColorSchema::all();
    }
    return ColorSchema::get(intval($id));
}

function lmbcs_generate_css($color_schema)
{
    Log::deprecated('Method ' . __METHOD__ . ' is deprecated. Use ColorSchema->generateCss instead.');
    return 'Deprecated method called.';
}

function lmbcs_add_schema($name, $layout)
{
    Log::deprecated('Method ' . __METHOD__ . ' is deprecated. Use new ColorSchema instead.');
    $colorSchema = new ColorSchema(0,$name,$layout, 'light');
    return $colorSchema->save();
}

function lmbcs_delete_schema($id)
{
    Log::deprecated('Method ' . __METHOD__ . ' is deprecated. Use ColorSchema->delete instead.');
    $colorSchema = ColorSchema::get(intval($id));
    if($colorSchema) {
        $colorSchema->delete();
    }
}

function lmbcs_save_colors($id, $addvartitle = null, $addvarvalue = null)
{
    Log::deprecated('Method ' . __METHOD__ . ' is deprecated. Use ColorSchema->saveColors instead.');
    $colorSchema = ColorSchema::get(intval($id));
    if($colorSchema) {
        $colorSchema->saveColors($addvartitle, $addvarvalue);
    }
}

function lmbcs_reset($id)
{
    Log::deprecated('Method ' . __METHOD__ . ' is deprecated. Use ColorSchema->reset instead.');
    $colorSchema = ColorSchema::get(intval($id));
    if($colorSchema) {
        $colorSchema->reset();
    }
}


function lmbcs_generate_legacy_css($schemaId, $color_schema)
{
    Log::deprecated('Method ' . __METHOD__ . ' is deprecated. Use ColorSchema->generateCss instead.');
    return 'Deprecated method called.';
}
